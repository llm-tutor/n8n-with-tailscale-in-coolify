# N8N + Tailscale Docker Compose Environment Variables Template
# 
# FOR COOLIFY USERS:
# Copy these variable names and values to your Coolify Environment tab
# Generate secrets using the commands below and paste the results into Coolify
#
# FOR MANUAL DEPLOYMENT:
# Copy this file to .env and fill in your actual values
# DO NOT commit the .env file to version control - it contains secrets!

# =============================================================================
# REQUIRED SECRETS - These MUST be set for the deployment to work
# =============================================================================

# Tailscale authentication key (reusable key with 90-day expiration recommended)
# Get from: https://login.tailscale.com/admin/settings/keys
TS_AUTHKEY=your_tailscale_auth_key_here

# Strong database password (generate with: openssl rand -base64 32)
POSTGRES_PASSWORD=your_strong_postgres_password_here

# Strong Redis password (generate with: openssl rand -base64 32)  
REDIS_PASSWORD=your_strong_redis_password_here

# N8N workflow encryption key - 32 characters (generate with: openssl rand -base64 32)
# WARNING: Losing this key means losing access to encrypted workflow data!
N8N_ENCRYPTION_KEY=your_32_character_encryption_key_here

# N8N JWT secret for authentication - 64 characters (generate with: openssl rand -base64 64)
N8N_JWT_SECRET=your_64_character_jwt_secret_here

# External URL for N8N webhooks (your domain)
WEBHOOK_URL=https://n8n.yourdomain.com

# =============================================================================
# OPTIONAL CONFIGURATION - These have sensible defaults but can be customized
# =============================================================================

# Timezone identifier (default: Etc/GMT+6 if not set)
# Examples:
# - America/New_York    (Eastern Time)
# - America/Chicago     (Central Time) 
# - America/Los_Angeles (Pacific Time)
# - Europe/London       (GMT/BST)
# - Europe/Berlin       (CET/CEST)
# - Asia/Tokyo          (JST)
# - UTC                 (Coordinated Universal Time)
# - Etc/GMT+6          (UTC-6, equivalent to Central Standard Time)
TZ=Etc/GMT+6

# Execution data retention in hours (default: 168 = 7 days)
EXECUTIONS_DATA_MAX_AGE=168

# Enable N8N metrics collection (default: true)
N8N_METRICS=true

# =============================================================================
# SETUP INSTRUCTIONS
# =============================================================================
# 
# COOLIFY USERS:
# 1. Go to your application's Environment tab
# 2. Add each variable above with generated values
# 3. Use these commands to generate secrets:
#    openssl rand -base64 32  (for passwords and encryption key)
#    openssl rand -base64 64  (for JWT secret)
# 4. Deploy your application
#
# MANUAL DEPLOYMENT:
# 1. Copy this template: cp .env.template .env
# 2. Generate secrets and update .env file
# 3. Deploy: docker-compose up -d
#
# =============================================================================
# SECURITY NOTES
# =============================================================================
#
# - Store all secrets securely
# - Use strong, unique passwords  
# - Never commit .env files to version control
# - Back up your N8N_ENCRYPTION_KEY safely
# - Rotate secrets periodically
# - Use reusable Tailscale keys with appropriate expiration
#
# =============================================================================
